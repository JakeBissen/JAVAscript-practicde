<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<h1>Random Dog image</h1>
<button onclick="getDogImage()">Get Dog</button>
<div id="result"></div>


<script>
    async function getDogImage(){
        try{
            let response = await fetch('https://dog.ceo/api/breeds/image/random');
            let data = await response.json();
            console.log(data);
            document.getElementById('result').innerHTML = `
            <img src = "${data.message}" 
            width = "300"/>
            `;
        }
        catch(error){
        console.log('error fetching dog', error)
        }
    }
</script>

<h1>Random Jokes</h1>
<button onclick="showJoke()">Joke</button>
<div id="joke"></div>


<script>
    async function showJoke(){
        try{
            const res = await fetch('https://v2.jokeapi.dev/joke/Any');
            const data = await res.json();
            if(data.type === 'singe'){
                document.getElementById('joke')
                .textContent = data.joke;

            }
            else{
                document.getElementById('joke').textContent = data.setup + ' - ' + data.delivery;
            }
            
            }
            catch(err){
                console.error('error', err)
                document.getElementById('joke').textContent = 'failed to fetch jokes'
        }
    }
</script>



<h1>random cats</h1>
<button onclick="showCats()"> cats </button>
<div id="meow"></div>


<script>
    async function showCats(){
        try{
            const res = await fetch ('https://meowfacts.herokuapp.com/'); 
            const data = await res.json();
            document.getElementById('meow')
            .textContent = data.data[0];
            }
            catch(err){
                console.error('error', err)
                document.getElementById('meow').textContent = 'failed to fetch cats'
        }
    }
</script>



<h1>Random Advice</h1>
<button onclick="randomAdvice()">Click for Help
</button>
<div id="advice"></div>

<script>
    async function randomAdvice(){
        try{
            const res = await fetch ('https://api.adviceslip.com/advice'); 
            const data = await res.json();
            if(data.slip && data.slip.advice){
                document.getElementById('advice')
                .textContent = data.slip.advice;
                console.log(data);
            }
            else{
                document.getElementById('advice').textContent = 'Could not find advice in response.';
            }
        }
        catch(err){
            console.error('error', err)
            document.getElementById('advice').textContent = 'failed to fetch advice, your out of luck';
        }
    }
</script>




<h1>Poem</h1>
<button onclick="pQuotes()">Generate a Quote</button>
<div id="poem"></div>

<script>
    async function pQuotes() {
        try {
            const response = await fetch('https://poetrydb.org/random');
            const data = await response.json();
            const poem = data[0]; 

            const poemText = `<italic>${poem.title}</italic> by ${poem.author}<br><br>` +
                 poem.lines.join('<br>');

            document.getElementById('poem').innerHTML = poemText;
            console.log(poem);
        } catch (err) {
            console.error(err);
            document.getElementById('poem').textContent = 'Could not find poem';
        }
    }

</script>

</body>
</html>